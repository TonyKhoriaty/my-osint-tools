/*

This bookmarklet recreates the "Search" function on a profile page, even when
that option is not displayed. This search looks for public content featuring
the user, and may include content not displayed on their page due to privacy
settings.

Like it? Visit https://github.com/myosintllc/mot-osint-tools/ for more!
Want some OSINT learning? https://www.myosint.training has courses for you.

*/

// Copy and paste the data below

javascript:(function(){try{function findUserId(){var userIdRegex=/"userID":"(\d+)"/;var userIdMatch=document.documentElement.outerHTML.match(userIdRegex);return userIdMatch?userIdMatch[1]:null;}function findUserName(){var nameRegex=/"name":"([^"]+)","__isEntity":"User"/;var nameMatch=document.documentElement.outerHTML.match(nameRegex);return nameMatch?nameMatch[1]:null;}var userId=findUserId();var userName=findUserName();if(userId&&userName){var searchTerm=prompt("Search for content about userID: "+userId+" ("+userName+")"+"\n\nEnter a Search term:");if(searchTerm!==null&&searchTerm.trim()!==""){var encodedSearchTerm=encodeURIComponent(searchTerm.trim());var searchUrl="https://facebook.com/profile/"+userId+"/search/?q="+encodedSearchTerm;window.open(searchUrl,"_blank");}else{alert("No search term provided.");}}else{alert("Facebook ID or name not found!");}}catch(e){alert('Error processing request: '+e.message);}})();